{
    "Resources": {
        "FaceLivenessFunctionsStartFaceLivenessSessionRole9CD726C1": {
            "Type": "AWS::IAM::Role",
            "Properties": {
                "AssumeRolePolicyDocument": {
                    "Statement": [
                        {
                            "Action": "sts:AssumeRole",
                            "Effect": "Allow",
                            "Principal": {
                                "Service": "lambda.amazonaws.com"
                            }
                        }
                    ],
                    "Version": "2012-10-17"
                },
                "Description": "FaceLivenessStartLivenessSession for the FaceLivenessStartLivenessSession component.",
                "ManagedPolicyArns": [
                    {
                        "Fn::Join": [
                            "",
                            [
                                "arn:",
                                {
                                    "Ref": "AWS::Partition"
                                },
                                ":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"
                            ]
                        ]
                    },
                    {
                        "Fn::Join": [
                            "",
                            [
                                "arn:",
                                {
                                    "Ref": "AWS::Partition"
                                },
                                ":iam::aws:policy/AWSXRayDaemonWriteAccess"
                            ]
                        ]
                    },
                    {
                        "Fn::Join": [
                            "",
                            [
                                "arn:",
                                {
                                    "Ref": "AWS::Partition"
                                },
                                ":iam::aws:policy/AmazonRekognitionFullAccess"
                            ]
                        ]
                    }
                ]
            },
            "Metadata": {
                "aws:cdk:path": "Rfl-Prod/FaceLiveness/Functions/StartFaceLivenessSession/Role/Resource"
            }
        },
        "FaceLivenessFunctionsStartFaceLivenessSessionRoleDefaultPolicyF2B7BABB": {
            "Type": "AWS::IAM::Policy",
            "Properties": {
                "PolicyDocument": {
                    "Statement": [
                        {
                            "Action": [
                                "xray:PutTraceSegments",
                                "xray:PutTelemetryRecords"
                            ],
                            "Effect": "Allow",
                            "Resource": "*"
                        }
                    ],
                    "Version": "2012-10-17"
                },
                "PolicyName": "FaceLivenessFunctionsStartFaceLivenessSessionRoleDefaultPolicyF2B7BABB",
                "Roles": [
                    {
                        "Ref": "FaceLivenessFunctionsStartFaceLivenessSessionRole9CD726C1"
                    }
                ]
            },
            "Metadata": {
                "aws:cdk:path": "Rfl-Prod/FaceLiveness/Functions/StartFaceLivenessSession/Role/DefaultPolicy/Resource"
            }
        },
        "FaceLivenessFunctionsStartFaceLivenessSessionLambdaFunction92E80290": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
                "Code": {
                    "S3Bucket": "aws-blogs-artifacts-public",
                    "S3Key": "artifacts/ML-13160/8ac765cc9983ebd31aa1eb1ecacc394ecb93c31837efc849d53090fcd1cbb8df.zip"
                },
                "Role": {
                    "Fn::GetAtt": [
                        "FaceLivenessFunctionsStartFaceLivenessSessionRole9CD726C1",
                        "Arn"
                    ]
                },
                "Description": "Python container lambda function for FaceLivenessStartLivenessSession",
                "Environment": {
                    "Variables": {
                        "REGION": "us-east-1",
                        "rfl_stack_NAME": "Rfl-Prod"
                    }
                },
                "Handler": "handler.lambda_handler",
                "Layers": [
                    {
                        "Ref": "FaceLivenessFunctionsStartFaceLivenessSessionSharedDeps3D7EFFA2"
                    }
                ],
                "MemorySize": 512,
                "Runtime": "python3.9",
                "Timeout": 30,
                "TracingConfig": {
                    "Mode": "Active"
                }
            },
            "DependsOn": [
                "FaceLivenessFunctionsStartFaceLivenessSessionRoleDefaultPolicyF2B7BABB",
                "FaceLivenessFunctionsStartFaceLivenessSessionRole9CD726C1"
            ]
        },
        "FaceLivenessFunctionsStartFaceLivenessSessionSharedDeps3D7EFFA2": {
            "Type": "AWS::Lambda::LayerVersion",
            "Properties": {
                "Content": {
                    "S3Bucket": "aws-blogs-artifacts-public",
                    "S3Key": "artifacts/ML-13160/17aa0341d70f8deaf04165567cbd2405fddec4ad28c6bd9fa96b2c2b2c4aead0.zip"
                },
                "CompatibleRuntimes": [
                    "python3.9"
                ],
                "Description": "Shared dependencies"
            }
        },
        "FaceLivenessFunctionsFaceLivenessSessionResultRole0241C246": {
            "Type": "AWS::IAM::Role",
            "Properties": {
                "AssumeRolePolicyDocument": {
                    "Statement": [
                        {
                            "Action": "sts:AssumeRole",
                            "Effect": "Allow",
                            "Principal": {
                                "Service": "lambda.amazonaws.com"
                            }
                        }
                    ],
                    "Version": "2012-10-17"
                },
                "Description": "FaceLivenessSessionResult for the FaceLivenessSessionResult component.",
                "ManagedPolicyArns": [
                    {
                        "Fn::Join": [
                            "",
                            [
                                "arn:",
                                {
                                    "Ref": "AWS::Partition"
                                },
                                ":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"
                            ]
                        ]
                    },
                    {
                        "Fn::Join": [
                            "",
                            [
                                "arn:",
                                {
                                    "Ref": "AWS::Partition"
                                },
                                ":iam::aws:policy/AWSXRayDaemonWriteAccess"
                            ]
                        ]
                    },
                    {
                        "Fn::Join": [
                            "",
                            [
                                "arn:",
                                {
                                    "Ref": "AWS::Partition"
                                },
                                ":iam::aws:policy/AmazonRekognitionFullAccess"
                            ]
                        ]
                    }
                ]
            },
            "Metadata": {
                "aws:cdk:path": "Rfl-Prod/FaceLiveness/Functions/FaceLivenessSessionResult/Role/Resource"
            }
        },
        "FaceLivenessFunctionsFaceLivenessSessionResultRoleDefaultPolicy97CD2FED": {
            "Type": "AWS::IAM::Policy",
            "Properties": {
                "PolicyDocument": {
                    "Statement": [
                        {
                            "Action": [
                                "xray:PutTraceSegments",
                                "xray:PutTelemetryRecords"
                            ],
                            "Effect": "Allow",
                            "Resource": "*"
                        }
                    ],
                    "Version": "2012-10-17"
                },
                "PolicyName": "FaceLivenessFunctionsFaceLivenessSessionResultRoleDefaultPolicy97CD2FED",
                "Roles": [
                    {
                        "Ref": "FaceLivenessFunctionsFaceLivenessSessionResultRole0241C246"
                    }
                ]
            },
            "Metadata": {
                "aws:cdk:path": "Rfl-Prod/FaceLiveness/Functions/FaceLivenessSessionResult/Role/DefaultPolicy/Resource"
            }
        },
        "FaceLivenessFunctionsFaceLivenessSessionResultLambdaFunction4AC90F7F": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
                "Code": {
                    "S3Bucket": "aws-blogs-artifacts-public",
                    "S3Key": "artifacts/ML-13160/fb698c65e77c1753d8a7cade864b3168fa0a3eb45f663f47220935d7e6b5c61d.zip"
                },
                "Role": {
                    "Fn::GetAtt": [
                        "FaceLivenessFunctionsFaceLivenessSessionResultRole0241C246",
                        "Arn"
                    ]
                },
                "Description": "Python container lambda function for FaceLivenessSessionResult",
                "Environment": {
                    "Variables": {
                        "REGION": "us-east-1",
                        "rfl_stack_NAME": "Rfl-Prod"
                    }
                },
                "Handler": "handler.lambda_handler",
                "Layers": [
                    {
                        "Ref": "FaceLivenessFunctionsFaceLivenessSessionResultSharedDepsE1A28F19"
                    }
                ],
                "MemorySize": 512,
                "Runtime": "python3.9",
                "Timeout": 30,
                "TracingConfig": {
                    "Mode": "Active"
                }
            },
            "DependsOn": [
                "FaceLivenessFunctionsFaceLivenessSessionResultRoleDefaultPolicy97CD2FED",
                "FaceLivenessFunctionsFaceLivenessSessionResultRole0241C246"
            ]
        },
        "FaceLivenessFunctionsFaceLivenessSessionResultSharedDepsE1A28F19": {
            "Type": "AWS::Lambda::LayerVersion",
            "Properties": {
                "Content": {
                    "S3Bucket": "aws-blogs-artifacts-public",
                    "S3Key": "artifacts/ML-13160/17aa0341d70f8deaf04165567cbd2405fddec4ad28c6bd9fa96b2c2b2c4aead0.zip"
                },
                "CompatibleRuntimes": [
                    "python3.9"
                ],
                "Description": "Shared dependencies"
            }
        },
        "FaceLivenessGatewayFaceLivenessAA9467EC": {
            "Type": "AWS::ApiGateway::RestApi",
            "Properties": {
                "Description": "Gateway for FaceLivenessGateway",
                "Name": "Rfl-Prod-FaceLiveness"
            },
            "Metadata": {
                "aws:cdk:path": "Rfl-Prod/FaceLiveness/Gateway/FaceLiveness/Resource"
            }
        },
        "FaceLivenessGatewayFaceLivenessCloudWatchRole230D760A": {
            "Type": "AWS::IAM::Role",
            "Properties": {
                "AssumeRolePolicyDocument": {
                    "Statement": [
                        {
                            "Action": "sts:AssumeRole",
                            "Effect": "Allow",
                            "Principal": {
                                "Service": "apigateway.amazonaws.com"
                            }
                        }
                    ],
                    "Version": "2012-10-17"
                },
                "ManagedPolicyArns": [
                    {
                        "Fn::Join": [
                            "",
                            [
                                "arn:",
                                {
                                    "Ref": "AWS::Partition"
                                },
                                ":iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs"
                            ]
                        ]
                    }
                ]
            },
            "UpdateReplacePolicy": "Retain",
            "DeletionPolicy": "Retain",
            "Metadata": {
                "aws:cdk:path": "Rfl-Prod/FaceLiveness/Gateway/FaceLiveness/CloudWatchRole/Resource"
            }
        },
        "FaceLivenessGatewayFaceLivenessAccountAED5D7F1": {
            "Type": "AWS::ApiGateway::Account",
            "Properties": {
                "CloudWatchRoleArn": {
                    "Fn::GetAtt": [
                        "FaceLivenessGatewayFaceLivenessCloudWatchRole230D760A",
                        "Arn"
                    ]
                }
            },
            "DependsOn": [
                "FaceLivenessGatewayFaceLivenessAA9467EC"
            ],
            "UpdateReplacePolicy": "Retain",
            "DeletionPolicy": "Retain",
            "Metadata": {
                "aws:cdk:path": "Rfl-Prod/FaceLiveness/Gateway/FaceLiveness/Account"
            }
        },
        "FaceLivenessGatewayFaceLivenessDeploymentC4161AEDddb7234ea280e8ab1f08a9d16f929f10": {
            "Type": "AWS::ApiGateway::Deployment",
            "Properties": {
                "RestApiId": {
                    "Ref": "FaceLivenessGatewayFaceLivenessAA9467EC"
                },
                "Description": "Gateway for FaceLivenessGateway"
            },
            "DependsOn": [
                "FaceLivenessGatewayFaceLivenesscreatefacelivenesssessionGET2365B817",
                "FaceLivenessGatewayFaceLivenesscreatefacelivenesssessionOPTIONSD27ACB83",
                "FaceLivenessGatewayFaceLivenesscreatefacelivenesssession2C925558",
                "FaceLivenessGatewayFaceLivenessgetfacelivenesssessionresultsOPTIONSDEB386C6",
                "FaceLivenessGatewayFaceLivenessgetfacelivenesssessionresultsPOST44989210",
                "FaceLivenessGatewayFaceLivenessgetfacelivenesssessionresults1F8362DD"
            ],
            "Metadata": {
                "aws:cdk:path": "Rfl-Prod/FaceLiveness/Gateway/FaceLiveness/Deployment/Resource"
            }
        },
        "FaceLivenessGatewayFaceLivenessDeploymentStageprod0F584C52": {
            "Type": "AWS::ApiGateway::Stage",
            "Properties": {
                "RestApiId": {
                    "Ref": "FaceLivenessGatewayFaceLivenessAA9467EC"
                },
                "DeploymentId": {
                    "Ref": "FaceLivenessGatewayFaceLivenessDeploymentC4161AEDddb7234ea280e8ab1f08a9d16f929f10"
                },
                "StageName": "prod"
            },
            "DependsOn": [
                "FaceLivenessGatewayFaceLivenessAccountAED5D7F1"
            ],
            "Metadata": {
                "aws:cdk:path": "Rfl-Prod/FaceLiveness/Gateway/FaceLiveness/DeploymentStage.prod/Resource"
            }
        },
        "FaceLivenessGatewayFaceLivenesscreatefacelivenesssession2C925558": {
            "Type": "AWS::ApiGateway::Resource",
            "Properties": {
                "ParentId": {
                    "Fn::GetAtt": [
                        "FaceLivenessGatewayFaceLivenessAA9467EC",
                        "RootResourceId"
                    ]
                },
                "PathPart": "createfacelivenesssession",
                "RestApiId": {
                    "Ref": "FaceLivenessGatewayFaceLivenessAA9467EC"
                }
            },
            "Metadata": {
                "aws:cdk:path": "Rfl-Prod/FaceLiveness/Gateway/FaceLiveness/Default/createfacelivenesssession/Resource"
            }
        },
        "FaceLivenessGatewayFaceLivenesscreatefacelivenesssessionOPTIONSD27ACB83": {
            "Type": "AWS::ApiGateway::Method",
            "Properties": {
                "HttpMethod": "OPTIONS",
                "ResourceId": {
                    "Ref": "FaceLivenessGatewayFaceLivenesscreatefacelivenesssession2C925558"
                },
                "RestApiId": {
                    "Ref": "FaceLivenessGatewayFaceLivenessAA9467EC"
                },
                "ApiKeyRequired": false,
                "AuthorizationType": "NONE",
                "Integration": {
                    "IntegrationResponses": [
                        {
                            "ResponseParameters": {
                                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                                "method.response.header.Access-Control-Allow-Origin": "'*'",
                                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET'"
                            },
                            "StatusCode": "204"
                        }
                    ],
                    "RequestTemplates": {
                        "application/json": "{ statusCode: 200 }"
                    },
                    "Type": "MOCK"
                },
                "MethodResponses": [
                    {
                        "ResponseParameters": {
                            "method.response.header.Access-Control-Allow-Headers": true,
                            "method.response.header.Access-Control-Allow-Origin": true,
                            "method.response.header.Access-Control-Allow-Methods": true
                        },
                        "StatusCode": "204"
                    }
                ]
            },
            "Metadata": {
                "aws:cdk:path": "Rfl-Prod/FaceLiveness/Gateway/FaceLiveness/Default/createfacelivenesssession/OPTIONS/Resource"
            }
        },
        "FaceLivenessGatewayFaceLivenesscreatefacelivenesssessionGETApiPermissionRflProdFaceLivenessGatewayFaceLivenessBF70F2F2GETcreatefacelivenesssession61AD6DA0": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
                "Action": "lambda:InvokeFunction",
                "FunctionName": {
                    "Fn::GetAtt": [
                        "FaceLivenessFunctionsStartFaceLivenessSessionLambdaFunction92E80290",
                        "Arn"
                    ]
                },
                "Principal": "apigateway.amazonaws.com",
                "SourceArn": {
                    "Fn::Join": [
                        "",
                        [
                            "arn:",
                            {
                                "Ref": "AWS::Partition"
                            },
                            ":execute-api:",
                            {
                                "Ref": "AWS::Region"
                            },
                            ":",
                            {
                                "Ref": "AWS::AccountId"
                            },
                            ":",
                            {
                                "Ref": "FaceLivenessGatewayFaceLivenessAA9467EC"
                            },
                            "/",
                            {
                                "Ref": "FaceLivenessGatewayFaceLivenessDeploymentStageprod0F584C52"
                            },
                            "/GET/createfacelivenesssession"
                        ]
                    ]
                }
            },
            "Metadata": {
                "aws:cdk:path": "Rfl-Prod/FaceLiveness/Gateway/FaceLiveness/Default/createfacelivenesssession/GET/ApiPermission.RflProdFaceLivenessGatewayFaceLivenessBF70F2F2.GET..createfacelivenesssession"
            }
        },
        "FaceLivenessGatewayFaceLivenesscreatefacelivenesssessionGETApiPermissionTestRflProdFaceLivenessGatewayFaceLivenessBF70F2F2GETcreatefacelivenesssessionA9877377": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
                "Action": "lambda:InvokeFunction",
                "FunctionName": {
                    "Fn::GetAtt": [
                        "FaceLivenessFunctionsStartFaceLivenessSessionLambdaFunction92E80290",
                        "Arn"
                    ]
                },
                "Principal": "apigateway.amazonaws.com",
                "SourceArn": {
                    "Fn::Join": [
                        "",
                        [
                            "arn:",
                            {
                                "Ref": "AWS::Partition"
                            },
                            ":execute-api:",
                            {
                                "Ref": "AWS::Region"
                            },
                            ":",
                            {
                                "Ref": "AWS::AccountId"
                            },
                            ":",
                            {
                                "Ref": "FaceLivenessGatewayFaceLivenessAA9467EC"
                            },
                            "/test-invoke-stage/GET/createfacelivenesssession"
                        ]
                    ]
                }
            },
            "Metadata": {
                "aws:cdk:path": "Rfl-Prod/FaceLiveness/Gateway/FaceLiveness/Default/createfacelivenesssession/GET/ApiPermission.Test.RflProdFaceLivenessGatewayFaceLivenessBF70F2F2.GET..createfacelivenesssession"
            }
        },
        "FaceLivenessGatewayFaceLivenesscreatefacelivenesssessionGET2365B817": {
            "Type": "AWS::ApiGateway::Method",
            "Properties": {
                "HttpMethod": "GET",
                "ResourceId": {
                    "Ref": "FaceLivenessGatewayFaceLivenesscreatefacelivenesssession2C925558"
                },
                "RestApiId": {
                    "Ref": "FaceLivenessGatewayFaceLivenessAA9467EC"
                },
                "AuthorizationType": "NONE",
                "Integration": {
                    "IntegrationHttpMethod": "POST",
                    "IntegrationResponses": [
                        {
                            "ResponseParameters": {
                                "method.response.header.Access-Control-Allow-Origin": "'*'"
                            },
                            "StatusCode": "200"
                        },
                        {
                            "ResponseParameters": {
                                "method.response.header.Access-Control-Allow-Origin": "'*'"
                            },
                            "StatusCode": "500"
                        }
                    ],
                    "Type": "AWS",
                    "Uri": {
                        "Fn::Join": [
                            "",
                            [
                                "arn:",
                                {
                                    "Ref": "AWS::Partition"
                                },
                                ":apigateway:us-east-1:lambda:path/2015-03-31/functions/",
                                {
                                    "Fn::GetAtt": [
                                        "FaceLivenessFunctionsStartFaceLivenessSessionLambdaFunction92E80290",
                                        "Arn"
                                    ]
                                },
                                "/invocations"
                            ]
                        ]
                    }
                },
                "MethodResponses": [
                    {
                        "ResponseParameters": {
                            "method.response.header.Access-Control-Allow-Origin": true
                        },
                        "StatusCode": "200"
                    },
                    {
                        "ResponseModels": {
                            "application/json": "Error"
                        },
                        "ResponseParameters": {
                            "method.response.header.Access-Control-Allow-Origin": true
                        },
                        "StatusCode": "500"
                    }
                ]
            },
            "Metadata": {
                "aws:cdk:path": "Rfl-Prod/FaceLiveness/Gateway/FaceLiveness/Default/createfacelivenesssession/GET/Resource"
            }
        },
        "FaceLivenessGatewayFaceLivenessgetfacelivenesssessionresults1F8362DD": {
            "Type": "AWS::ApiGateway::Resource",
            "Properties": {
                "ParentId": {
                    "Fn::GetAtt": [
                        "FaceLivenessGatewayFaceLivenessAA9467EC",
                        "RootResourceId"
                    ]
                },
                "PathPart": "getfacelivenesssessionresults",
                "RestApiId": {
                    "Ref": "FaceLivenessGatewayFaceLivenessAA9467EC"
                }
            },
            "Metadata": {
                "aws:cdk:path": "Rfl-Prod/FaceLiveness/Gateway/FaceLiveness/Default/getfacelivenesssessionresults/Resource"
            }
        },
        "FaceLivenessGatewayFaceLivenessgetfacelivenesssessionresultsOPTIONSDEB386C6": {
            "Type": "AWS::ApiGateway::Method",
            "Properties": {
                "HttpMethod": "OPTIONS",
                "ResourceId": {
                    "Ref": "FaceLivenessGatewayFaceLivenessgetfacelivenesssessionresults1F8362DD"
                },
                "RestApiId": {
                    "Ref": "FaceLivenessGatewayFaceLivenessAA9467EC"
                },
                "ApiKeyRequired": false,
                "AuthorizationType": "NONE",
                "Integration": {
                    "IntegrationResponses": [
                        {
                            "ResponseParameters": {
                                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                                "method.response.header.Access-Control-Allow-Origin": "'*'",
                                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,POST'"
                            },
                            "StatusCode": "204"
                        }
                    ],
                    "RequestTemplates": {
                        "application/json": "{ statusCode: 200 }"
                    },
                    "Type": "MOCK"
                },
                "MethodResponses": [
                    {
                        "ResponseParameters": {
                            "method.response.header.Access-Control-Allow-Headers": true,
                            "method.response.header.Access-Control-Allow-Origin": true,
                            "method.response.header.Access-Control-Allow-Methods": true
                        },
                        "StatusCode": "204"
                    }
                ]
            },
            "Metadata": {
                "aws:cdk:path": "Rfl-Prod/FaceLiveness/Gateway/FaceLiveness/Default/getfacelivenesssessionresults/OPTIONS/Resource"
            }
        },
        "FaceLivenessGatewayFaceLivenessgetfacelivenesssessionresultsPOSTApiPermissionRflProdFaceLivenessGatewayFaceLivenessBF70F2F2POSTgetfacelivenesssessionresults991D9F2B": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
                "Action": "lambda:InvokeFunction",
                "FunctionName": {
                    "Fn::GetAtt": [
                        "FaceLivenessFunctionsFaceLivenessSessionResultLambdaFunction4AC90F7F",
                        "Arn"
                    ]
                },
                "Principal": "apigateway.amazonaws.com",
                "SourceArn": {
                    "Fn::Join": [
                        "",
                        [
                            "arn:",
                            {
                                "Ref": "AWS::Partition"
                            },
                            ":execute-api:",
                            {
                                "Ref": "AWS::Region"
                            },
                            ":",
                            {
                                "Ref": "AWS::AccountId"
                            },
                            ":",
                            {
                                "Ref": "FaceLivenessGatewayFaceLivenessAA9467EC"
                            },
                            "/",
                            {
                                "Ref": "FaceLivenessGatewayFaceLivenessDeploymentStageprod0F584C52"
                            },
                            "/POST/getfacelivenesssessionresults"
                        ]
                    ]
                }
            },
            "Metadata": {
                "aws:cdk:path": "Rfl-Prod/FaceLiveness/Gateway/FaceLiveness/Default/getfacelivenesssessionresults/POST/ApiPermission.RflProdFaceLivenessGatewayFaceLivenessBF70F2F2.POST..getfacelivenesssessionresults"
            }
        },
        "FaceLivenessGatewayFaceLivenessgetfacelivenesssessionresultsPOSTApiPermissionTestRflProdFaceLivenessGatewayFaceLivenessBF70F2F2POSTgetfacelivenesssessionresults141E7D8A": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
                "Action": "lambda:InvokeFunction",
                "FunctionName": {
                    "Fn::GetAtt": [
                        "FaceLivenessFunctionsFaceLivenessSessionResultLambdaFunction4AC90F7F",
                        "Arn"
                    ]
                },
                "Principal": "apigateway.amazonaws.com",
                "SourceArn": {
                    "Fn::Join": [
                        "",
                        [
                            "arn:",
                            {
                                "Ref": "AWS::Partition"
                            },
                            ":execute-api:",
                            {
                                "Ref": "AWS::Region"
                            },
                            ":",
                            {
                                "Ref": "AWS::AccountId"
                            },
                            ":",
                            {
                                "Ref": "FaceLivenessGatewayFaceLivenessAA9467EC"
                            },
                            "/test-invoke-stage/POST/getfacelivenesssessionresults"
                        ]
                    ]
                }
            },
            "Metadata": {
                "aws:cdk:path": "Rfl-Prod/FaceLiveness/Gateway/FaceLiveness/Default/getfacelivenesssessionresults/POST/ApiPermission.Test.RflProdFaceLivenessGatewayFaceLivenessBF70F2F2.POST..getfacelivenesssessionresults"
            }
        },
        "FaceLivenessGatewayFaceLivenessgetfacelivenesssessionresultsPOST44989210": {
            "Type": "AWS::ApiGateway::Method",
            "Properties": {
                "HttpMethod": "POST",
                "ResourceId": {
                    "Ref": "FaceLivenessGatewayFaceLivenessgetfacelivenesssessionresults1F8362DD"
                },
                "RestApiId": {
                    "Ref": "FaceLivenessGatewayFaceLivenessAA9467EC"
                },
                "AuthorizationType": "NONE",
                "Integration": {
                    "IntegrationHttpMethod": "POST",
                    "IntegrationResponses": [
                        {
                            "ResponseParameters": {
                                "method.response.header.Access-Control-Allow-Origin": "'*'"
                            },
                            "StatusCode": "200"
                        },
                        {
                            "ResponseParameters": {
                                "method.response.header.Access-Control-Allow-Origin": "'*'"
                            },
                            "StatusCode": "500"
                        }
                    ],
                    "Type": "AWS",
                    "Uri": {
                        "Fn::Join": [
                            "",
                            [
                                "arn:",
                                {
                                    "Ref": "AWS::Partition"
                                },
                                ":apigateway:us-east-1:lambda:path/2015-03-31/functions/",
                                {
                                    "Fn::GetAtt": [
                                        "FaceLivenessFunctionsFaceLivenessSessionResultLambdaFunction4AC90F7F",
                                        "Arn"
                                    ]
                                },
                                "/invocations"
                            ]
                        ]
                    }
                },
                "MethodResponses": [
                    {
                        "ResponseParameters": {
                            "method.response.header.Access-Control-Allow-Origin": true
                        },
                        "StatusCode": "200"
                    },
                    {
                        "ResponseModels": {
                            "application/json": "Error"
                        },
                        "ResponseParameters": {
                            "method.response.header.Access-Control-Allow-Origin": true
                        },
                        "StatusCode": "500"
                    }
                ]
            },
            "Metadata": {
                "aws:cdk:path": "Rfl-Prod/FaceLiveness/Gateway/FaceLiveness/Default/getfacelivenesssessionresults/POST/Resource"
            }
        },
        "FaceLivenessGatewayRole7E3A5BDA": {
            "Type": "AWS::IAM::Role",
            "Properties": {
                "AssumeRolePolicyDocument": {
                    "Statement": [
                        {
                            "Action": "sts:AssumeRole",
                            "Effect": "Allow",
                            "Principal": {
                                "Service": "apigateway.amazonaws.com"
                            }
                        }
                    ],
                    "Version": "2012-10-17"
                }
            },
            "Metadata": {
                "aws:cdk:path": "Rfl-Prod/FaceLiveness/Gateway/Role/Resource"
            }
        },
        "RflCognitoRFLCognitoUserPool4EA46B2E": {
            "Type": "AWS::Cognito::UserPool",
            "Properties": {
                "AccountRecoverySetting": {
                    "RecoveryMechanisms": [
                        {
                            "Name": "verified_phone_number",
                            "Priority": 1
                        },
                        {
                            "Name": "verified_email",
                            "Priority": 2
                        }
                    ]
                },
                "AdminCreateUserConfig": {
                    "AllowAdminCreateUserOnly": true
                },
                "EmailVerificationMessage": "The verification code to your new account is {####}",
                "EmailVerificationSubject": "Verify your new account",
                "SmsVerificationMessage": "The verification code to your new account is {####}",
                "UserPoolName": "Rfl-Prod",
                "VerificationMessageTemplate": {
                    "DefaultEmailOption": "CONFIRM_WITH_CODE",
                    "EmailMessage": "The verification code to your new account is {####}",
                    "EmailSubject": "Verify your new account",
                    "SmsMessage": "The verification code to your new account is {####}"
                }
            },
            "UpdateReplacePolicy": "Retain",
            "DeletionPolicy": "Retain",
            "Metadata": {
                "aws:cdk:path": "Rfl-Prod/RflCognito/RFL-Cognito-User-Pool/Resource"
            }
        },
        "RflCognitoRFLCognitoClient0C2763F4": {
            "Type": "AWS::Cognito::UserPoolClient",
            "Properties": {
                "UserPoolId": {
                    "Ref": "RflCognitoRFLCognitoUserPool4EA46B2E"
                },
                "AllowedOAuthFlows": [
                    "implicit",
                    "code"
                ],
                "AllowedOAuthFlowsUserPoolClient": true,
                "AllowedOAuthScopes": [
                    "profile",
                    "phone",
                    "email",
                    "openid",
                    "aws.cognito.signin.user.admin"
                ],
                "CallbackURLs": [
                    "https://example.com"
                ],
                "ClientName": "Rfl-Prod",
                "SupportedIdentityProviders": [
                    "COGNITO"
                ]
            },
            "Metadata": {
                "aws:cdk:path": "Rfl-Prod/RflCognito/RFL-Cognito-Client/Resource"
            }
        },
        "RflCognitoRFLIdentityPool080FDB04": {
            "Type": "AWS::Cognito::IdentityPool",
            "Properties": {
                "AllowUnauthenticatedIdentities": true,
                "CognitoIdentityProviders": [
                    {
                        "ClientId": {
                            "Ref": "RflCognitoRFLCognitoClient0C2763F4"
                        },
                        "ProviderName": {
                            "Fn::GetAtt": [
                                "RflCognitoRFLCognitoUserPool4EA46B2E",
                                "ProviderName"
                            ]
                        }
                    }
                ],
                "IdentityPoolName": "Rfl-Prod"
            },
            "Metadata": {
                "aws:cdk:path": "Rfl-Prod/RflCognito/RFL-IdentityPool"
            }
        },
        "RflCognitoRFLIdentityPoolUnAuthRole9D3D141D": {
            "Type": "AWS::IAM::Role",
            "Properties": {
                "AssumeRolePolicyDocument": {
                    "Statement": [
                        {
                            "Action": "sts:AssumeRoleWithWebIdentity",
                            "Condition": {
                                "StringEquals": {
                                    "cognito-identity.amazonaws.com:aud": {
                                        "Ref": "RflCognitoRFLIdentityPool080FDB04"
                                    }
                                },
                                "ForAnyValue:StringLike": {
                                    "cognito-identity.amazonaws.com:amr": "unauthenticated"
                                }
                            },
                            "Effect": "Allow",
                            "Principal": {
                                "Federated": "cognito-identity.amazonaws.com"
                            }
                        }
                    ],
                    "Version": "2012-10-17"
                },
                "Description": "role for amplify rfl-prod app",
                "ManagedPolicyArns": [
                    {
                        "Fn::Join": [
                            "",
                            [
                                "arn:",
                                {
                                    "Ref": "AWS::Partition"
                                },
                                ":iam::aws:policy/AmazonRekognitionFullAccess"
                            ]
                        ]
                    }
                ]
            },
            "Metadata": {
                "aws:cdk:path": "Rfl-Prod/RflCognito/RFLIdentityPoolUnAuthRole/Resource"
            }
        },
        "RflCognitoRFLIdentityPoolRoleAttachment95D9105D": {
            "Type": "AWS::Cognito::IdentityPoolRoleAttachment",
            "Properties": {
                "IdentityPoolId": {
                    "Ref": "RflCognitoRFLIdentityPool080FDB04"
                },
                "Roles": {
                    "unauthenticated": {
                        "Fn::GetAtt": [
                            "RflCognitoRFLIdentityPoolUnAuthRole9D3D141D",
                            "Arn"
                        ]
                    }
                }
            },
            "Metadata": {
                "aws:cdk:path": "Rfl-Prod/RflCognito/RFL-IdentityPool-Role-Attachment"
            }
        },
        "RflWebAPPRflWebAppRepo009BC74B": {
            "Type": "AWS::CodeCommit::Repository",
            "Properties": {
                "RepositoryName": "Rfl-Prod-Repo",
                "Code": {
                    "S3": {
                        "Bucket": "aws-blogs-artifacts-public",
                        "Key": "artifacts/ML-13160/d2ceb173f6c5f3715252592bc335ee3f9243b9cbf1f1bb9eb9909e28c9b6d311.zip"
                    }
                }
            },
            "Metadata": {
                "aws:cdk:path": "Rfl-Prod/RflWebAPP/Rfl-Web-App-Repo/Resource"
            }
        },
        "RflWebAPPRflWebAppRole3086D03C": {
            "Type": "AWS::IAM::Role",
            "Properties": {
                "AssumeRolePolicyDocument": {
                    "Statement": [
                        {
                            "Action": "sts:AssumeRole",
                            "Effect": "Allow",
                            "Principal": {
                                "Service": "amplify.amazonaws.com"
                            }
                        }
                    ],
                    "Version": "2012-10-17"
                }
            },
            "Metadata": {
                "aws:cdk:path": "Rfl-Prod/RflWebAPP/Rfl-Web-App/Role/Resource"
            }
        },
        "RflWebAPPRflWebAppRoleDefaultPolicyF26F771E": {
            "Type": "AWS::IAM::Policy",
            "Properties": {
                "PolicyDocument": {
                    "Statement": [
                        {
                            "Action": "codecommit:GitPull",
                            "Effect": "Allow",
                            "Resource": {
                                "Fn::GetAtt": [
                                    "RflWebAPPRflWebAppRepo009BC74B",
                                    "Arn"
                                ]
                            }
                        }
                    ],
                    "Version": "2012-10-17"
                },
                "PolicyName": "RflWebAPPRflWebAppRoleDefaultPolicyF26F771E",
                "Roles": [
                    {
                        "Ref": "RflWebAPPRflWebAppRole3086D03C"
                    }
                ]
            },
            "Metadata": {
                "aws:cdk:path": "Rfl-Prod/RflWebAPP/Rfl-Web-App/Role/DefaultPolicy/Resource"
            }
        },
        "RflWebAPPRflWebAppA661FC9F": {
            "Type": "AWS::Amplify::App",
            "Properties": {
                "Name": "Rfl-Prod",
                "AutoBranchCreationConfig": {
                    "AutoBranchCreationPatterns": [
                        "main/*",
                        "prod/*"
                    ],
                    "BasicAuthConfig": {
                        "EnableBasicAuth": false
                    },
                    "EnableAutoBranchCreation": true,
                    "EnableAutoBuild": true,
                    "EnablePullRequestPreview": true
                },
                "BasicAuthConfig": {
                    "EnableBasicAuth": false
                },
                "CustomRules": [
                    {
                        "Source": "</^((?!\\.(css|gif|ico|jpg|js|png|txt|svg|woff|ttf)$).)*$/>",
                        "Status": "200",
                        "Target": "/index.html"
                    }
                ],
                "EnvironmentVariables": [
                    {
                        "Name": "REACT_APP_ENV_API_URL",
                        "Value": {
                            "Fn::Join": [
                                "",
                                [
                                    "https://",
                                    {
                                        "Ref": "FaceLivenessGatewayFaceLivenessAA9467EC"
                                    },
                                    ".execute-api.us-east-1.",
                                    {
                                        "Ref": "AWS::URLSuffix"
                                    },
                                    "/",
                                    {
                                        "Ref": "FaceLivenessGatewayFaceLivenessDeploymentStageprod0F584C52"
                                    },
                                    "/"
                                ]
                            ]
                        }
                    },
                    {
                        "Name": "REACT_APP_IDENTITYPOOL_ID",
                        "Value": {
                            "Ref": "RflCognitoRFLIdentityPool080FDB04"
                        }
                    },
                    {
                        "Name": "REACT_APP_USERPOOL_ID",
                        "Value": {
                            "Ref": "RflCognitoRFLCognitoUserPool4EA46B2E"
                        }
                    },
                    {
                        "Name": "REACT_APP_WEBCLIENT_ID",
                        "Value": {
                            "Ref": "RflCognitoRFLCognitoClient0C2763F4"
                        }
                    },
                    {
                        "Name": "REACT_APP_REGION",
                        "Value": "us-east-1"
                    }
                ],
                "IAMServiceRole": {
                    "Fn::GetAtt": [
                        "RflWebAPPRflWebAppRole3086D03C",
                        "Arn"
                    ]
                },
                "Repository": {
                    "Fn::GetAtt": [
                        "RflWebAPPRflWebAppRepo009BC74B",
                        "CloneUrlHttp"
                    ]
                }
            },
            "Metadata": {
                "aws:cdk:path": "Rfl-Prod/RflWebAPP/Rfl-Web-App/Resource"
            }
        },
        "RflWebAPPRflWebAppmainF3D8897A": {
            "Type": "AWS::Amplify::Branch",
            "Properties": {
                "AppId": {
                    "Fn::GetAtt": [
                        "RflWebAPPRflWebAppA661FC9F",
                        "AppId"
                    ]
                },
                "BranchName": "main",
                "EnableAutoBuild": true,
                "EnablePullRequestPreview": true
            },
            "Metadata": {
                "aws:cdk:path": "Rfl-Prod/RflWebAPP/Rfl-Web-App/main/Resource"
            }
        },
        "RflWebAPPTriggerRflWebAppTriggerBuild97CED7A7": {
            "Type": "Custom::AWS",
            "Properties": {
                "ServiceToken": {
                    "Fn::GetAtt": [
                        "AWS679f53fac002430cb0da5b7982bd22872D164C4C",
                        "Arn"
                    ]
                },
                "Create": {
                    "Fn::Join": [
                        "",
                        [
                            "{\"action\":\"startJob\",\"service\":\"Amplify\",\"parameters\":{\"appId\":\"",
                            {
                                "Fn::GetAtt": [
                                    "RflWebAPPRflWebAppA661FC9F",
                                    "AppId"
                                ]
                            },
                            "\",\"branchName\":\"main\",\"jobType\":\"RELEASE\",\"jobReason\":\"Auto Start build\"},\"physicalResourceId\":{\"id\":\"app-build-trigger\"}}"
                        ]
                    ]
                },
                "InstallLatestAwsSdk": true
            },
            "DependsOn": [
                "RflWebAPPRflWebAppRepo009BC74B",
                "RflWebAPPRflWebAppmainF3D8897A",
                "RflWebAPPRflWebAppA661FC9F",
                "RflWebAPPRflWebAppRoleDefaultPolicyF26F771E",
                "RflWebAPPRflWebAppRole3086D03C",
                "RflWebAPPTriggerRflWebAppTriggerBuildCustomResourcePolicy7D4F90B7"
            ],
            "UpdateReplacePolicy": "Delete",
            "DeletionPolicy": "Delete",
            "Metadata": {
                "aws:cdk:path": "Rfl-Prod/RflWebAPPTrigger/Rfl-Web-App-Trigger-Build/Resource/Default"
            }
        },
        "RflWebAPPTriggerRflWebAppTriggerBuildCustomResourcePolicy7D4F90B7": {
            "Type": "AWS::IAM::Policy",
            "Properties": {
                "PolicyDocument": {
                    "Statement": [
                        {
                            "Action": "amplify:StartJob",
                            "Effect": "Allow",
                            "Resource": "*"
                        }
                    ],
                    "Version": "2012-10-17"
                },
                "PolicyName": "RflWebAPPTriggerRflWebAppTriggerBuildCustomResourcePolicy7D4F90B7",
                "Roles": [
                    {
                        "Ref": "AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2"
                    }
                ]
            },
            "DependsOn": [
                "RflWebAPPRflWebAppRepo009BC74B",
                "RflWebAPPRflWebAppmainF3D8897A",
                "RflWebAPPRflWebAppA661FC9F",
                "RflWebAPPRflWebAppRoleDefaultPolicyF26F771E",
                "RflWebAPPRflWebAppRole3086D03C"
            ],
            "Metadata": {
                "aws:cdk:path": "Rfl-Prod/RflWebAPPTrigger/Rfl-Web-App-Trigger-Build/CustomResourcePolicy/Resource"
            }
        },
        "AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2": {
            "Type": "AWS::IAM::Role",
            "Properties": {
                "AssumeRolePolicyDocument": {
                    "Statement": [
                        {
                            "Action": "sts:AssumeRole",
                            "Effect": "Allow",
                            "Principal": {
                                "Service": "lambda.amazonaws.com"
                            }
                        }
                    ],
                    "Version": "2012-10-17"
                },
                "ManagedPolicyArns": [
                    {
                        "Fn::Join": [
                            "",
                            [
                                "arn:",
                                {
                                    "Ref": "AWS::Partition"
                                },
                                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                            ]
                        ]
                    }
                ]
            },
            "Metadata": {
                "aws:cdk:path": "Rfl-Prod/AWS679f53fac002430cb0da5b7982bd2287/ServiceRole/Resource"
            }
        },
        "AWS679f53fac002430cb0da5b7982bd22872D164C4C": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
                "Code": {
                    "S3Bucket": "aws-blogs-artifacts-public",
                    "S3Key": "artifacts/ML-13160/bb459fac5f6b4b052aac9803443226d161a5cfe96f4648b21f9e4912c698bf30.zip"
                },
                "Role": {
                    "Fn::GetAtt": [
                        "AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2",
                        "Arn"
                    ]
                },
                "Handler": "index.handler",
                "Runtime": "nodejs16.x",
                "Timeout": 120
            },
            "DependsOn": [
                "AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2"
            ],
            "Metadata": {
                "aws:cdk:path": "Rfl-Prod/AWS679f53fac002430cb0da5b7982bd2287/Resource",
                "aws:asset:path": "asset.c56527323fe165e19e5c38b88f77270ba67c06d0fd17823264a8e1268ef9ce50",
                "aws:asset:is-bundled": false,
                "aws:asset:property": "Code"
            }
        },
        "RflWebAPPStatusRflWebAppLambdaServiceRole7CD3B027": {
            "Type": "AWS::IAM::Role",
            "Properties": {
                "AssumeRolePolicyDocument": {
                    "Statement": [
                        {
                            "Action": "sts:AssumeRole",
                            "Effect": "Allow",
                            "Principal": {
                                "Service": "lambda.amazonaws.com"
                            }
                        }
                    ],
                    "Version": "2012-10-17"
                },
                "ManagedPolicyArns": [
                    {
                        "Fn::Join": [
                            "",
                            [
                                "arn:",
                                {
                                    "Ref": "AWS::Partition"
                                },
                                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                            ]
                        ]
                    },
                    {
                        "Fn::Join": [
                            "",
                            [
                                "arn:",
                                {
                                    "Ref": "AWS::Partition"
                                },
                                ":iam::aws:policy/AWSCloudFormationFullAccess"
                            ]
                        ]
                    },
                    {
                        "Fn::Join": [
                            "",
                            [
                                "arn:",
                                {
                                    "Ref": "AWS::Partition"
                                },
                                ":iam::aws:policy/AdministratorAccess-Amplify"
                            ]
                        ]
                    }
                ]
            },
            "DependsOn": [
                "RflWebAPPTriggerRflWebAppTriggerBuildCustomResourcePolicy7D4F90B7",
                "RflWebAPPTriggerRflWebAppTriggerBuild97CED7A7"
            ],
            "Metadata": {
                "aws:cdk:path": "Rfl-Prod/RflWebAPPStatus/Rfl-Web-App-Lambda/ServiceRole/Resource"
            }
        },
        "RflWebAPPStatusRflWebAppLambdaServiceRoleDefaultPolicyB28BA754": {
            "Type": "AWS::IAM::Policy",
            "Properties": {
                "PolicyDocument": {
                    "Statement": [
                        {
                            "Action": [
                                "xray:PutTraceSegments",
                                "xray:PutTelemetryRecords"
                            ],
                            "Effect": "Allow",
                            "Resource": "*"
                        }
                    ],
                    "Version": "2012-10-17"
                },
                "PolicyName": "RflWebAPPStatusRflWebAppLambdaServiceRoleDefaultPolicyB28BA754",
                "Roles": [
                    {
                        "Ref": "RflWebAPPStatusRflWebAppLambdaServiceRole7CD3B027"
                    }
                ]
            },
            "DependsOn": [
                "RflWebAPPTriggerRflWebAppTriggerBuildCustomResourcePolicy7D4F90B7",
                "RflWebAPPTriggerRflWebAppTriggerBuild97CED7A7"
            ],
            "Metadata": {
                "aws:cdk:path": "Rfl-Prod/RflWebAPPStatus/Rfl-Web-App-Lambda/ServiceRole/DefaultPolicy/Resource"
            }
        },
        "RflWebAPPStatusRflWebAppLambdaF3BABC3D": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
                "Code": {
                    "ZipFile": "import json\nimport logging\nimport boto3\nfrom botocore.exceptions import ClientError\n\nclient = boto3.client('amplify')\n\n\ndef lambda_handler(event, context):\n    # apps = client.list_apps()\n    appName, appId = getApp(event['app'])\n    if(appName is not None):\n        branch = getBranch(appId, event['branch'])\n        if(branch is not None):\n            jobId = False\n            jobId = getJob(appId,branch)\n            if(jobId is not None):\n                while(jobId == False):\n                    job_status = client.get_job(\n                        appId=appId,\n                        branchName=branch,\n                        jobId=jobId\n                    )\n                    status = job_status['job']['summary']['status']\n                    if (status == 'FAILED' or status == 'SUCCEED' or status == 'CANCELLED'):\n                        jobId = True\n                        break\n    return {\n        \"status\":\"Amplify App deployed Successfully.\"\n    }\n    \n\n\ndef getApp(name):\n    apps = client.list_apps()\n    appName = None\n    appId = None\n    for sub in apps['apps']:\n        if sub['name'] == name:\n            appName = sub['name']\n            appId = sub['appId']\n            # deleteAPP = client.delete_app(\n            #     appId=sub['appId']\n            # )\n            break\n    return appName, appId\n\n\ndef getBranch(appId, name):\n    response = client.list_branches(appId=appId)\n    branchName = None\n    for sub in response['branches']:\n        if sub['branchName'] == name:\n            branchName = sub['branchName']\n            break\n    return branchName\n\n\ndef getJob(appId, branch):\n    jobs = client.list_jobs(\n        appId=appId,\n        branchName=branch,\n    )\n    jobId = None\n    for sub in jobs['jobSummaries']:\n        status = sub['status']\n        if (status == 'PENDING' or status == 'PROVISIONING' or status == 'RUNNING' or status == 'CANCELLING'):\n            jobId = sub['jobId']\n            break\n    return jobId\n\n\n\n"
                },
                "Role": {
                    "Fn::GetAtt": [
                        "RflWebAPPStatusRflWebAppLambdaServiceRole7CD3B027",
                        "Arn"
                    ]
                },
                "FunctionName": "Rfl-Prod-webapp-deployment",
                "Handler": "index.lambda_handler",
                "Runtime": "python3.9",
                "Timeout": 600,
                "TracingConfig": {
                    "Mode": "Active"
                }
            },
            "DependsOn": [
                "RflWebAPPStatusRflWebAppLambdaServiceRoleDefaultPolicyB28BA754",
                "RflWebAPPStatusRflWebAppLambdaServiceRole7CD3B027",
                "RflWebAPPTriggerRflWebAppTriggerBuildCustomResourcePolicy7D4F90B7",
                "RflWebAPPTriggerRflWebAppTriggerBuild97CED7A7"
            ],
            "Metadata": {
                "aws:cdk:path": "Rfl-Prod/RflWebAPPStatus/Rfl-Web-App-Lambda/Resource"
            }
        },
        "RflWebAPPStatusRflWebAppDeployStatus74DF646F": {
            "Type": "Custom::AWS",
            "Properties": {
                "ServiceToken": {
                    "Fn::GetAtt": [
                        "AWS679f53fac002430cb0da5b7982bd22872D164C4C",
                        "Arn"
                    ]
                },
                "Create": {
                    "Fn::Join": [
                        "",
                        [
                            "{\"action\":\"invoke\",\"service\":\"Lambda\",\"parameters\":{\"FunctionName\":\"",
                            {
                                "Ref": "RflWebAPPStatusRflWebAppLambdaF3BABC3D"
                            },
                            "\",\"InvocationType\":\"RequestResponse\",\"Payload\":\"{\\\"app\\\":\\\"Rfl-Prod\\\",\\\"branch\\\":\\\"main\\\"}\"},\"physicalResourceId\":{\"id\":\"Rfl-Prod-webapp-stack\"}}"
                        ]
                    ]
                },
                "Update": {
                    "Fn::Join": [
                        "",
                        [
                            "{\"action\":\"invoke\",\"service\":\"Lambda\",\"parameters\":{\"FunctionName\":\"",
                            {
                                "Ref": "RflWebAPPStatusRflWebAppLambdaF3BABC3D"
                            },
                            "\",\"InvocationType\":\"RequestResponse\",\"Payload\":\"{\\\"app\\\":\\\"Rfl-Prod\\\",\\\"branch\\\":\\\"main\\\"}\"},\"physicalResourceId\":{\"id\":\"Rfl-Prod-webapp-stack\"}}"
                        ]
                    ]
                },
                "InstallLatestAwsSdk": true
            },
            "DependsOn": [
                "RflWebAPPStatusRflWebAppDeployStatusCustomResourcePolicy4EDCD2FB",
                "RflWebAPPTriggerRflWebAppTriggerBuildCustomResourcePolicy7D4F90B7",
                "RflWebAPPTriggerRflWebAppTriggerBuild97CED7A7"
            ],
            "UpdateReplacePolicy": "Delete",
            "DeletionPolicy": "Delete",
            "Metadata": {
                "aws:cdk:path": "Rfl-Prod/RflWebAPPStatus/Rfl-Web-App-Deploy-Status/Resource/Default"
            }
        },
        "RflWebAPPStatusRflWebAppDeployStatusCustomResourcePolicy4EDCD2FB": {
            "Type": "AWS::IAM::Policy",
            "Properties": {
                "PolicyDocument": {
                    "Statement": [
                        {
                            "Action": "lambda:InvokeFunction",
                            "Effect": "Allow",
                            "Resource": {
                                "Fn::GetAtt": [
                                    "RflWebAPPStatusRflWebAppLambdaF3BABC3D",
                                    "Arn"
                                ]
                            }
                        }
                    ],
                    "Version": "2012-10-17"
                },
                "PolicyName": "RflWebAPPStatusRflWebAppDeployStatusCustomResourcePolicy4EDCD2FB",
                "Roles": [
                    {
                        "Ref": "AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2"
                    }
                ]
            },
            "DependsOn": [
                "RflWebAPPTriggerRflWebAppTriggerBuildCustomResourcePolicy7D4F90B7",
                "RflWebAPPTriggerRflWebAppTriggerBuild97CED7A7"
            ],
            "Metadata": {
                "aws:cdk:path": "Rfl-Prod/RflWebAPPStatus/Rfl-Web-App-Deploy-Status/CustomResourcePolicy/Resource"
            }
        },
        "CDKMetadata": {
            "Type": "AWS::CDK::Metadata",
            "Properties": {
                "Analytics": "v2:deflate64:H4sIAAAAAAAA/2VSy07DMBD8lt4dN1AhwY20CAkJRNQKrpXrbJOlfsl2VEVR/h07zwpOO7Pr9c6OfU8fH2ibrtjVJby4JAJPtD14xi8kpI4tMknbvRZAdmfVx1wL5E2kA+qIYPJUMNq+1op71CrWZvzOGrDfYN1Y+MtzsBJdzw6oSgFez80dcZsjcw68o1kMgdNtzS/gt8wBYQZL5uHKmqARnM8M9jIXmHGua+XJCxihGwkBhuwNC6uW/W4DCK26thz66ycy3jngD/CVLmJqQB3hulToNW2/HNhcaxGLM57ATuA4/X/mrQgAfTM13/LoeebDg1RRb5xWANdSoo87G+3CaNsMEifWESaNwHOwJXpgTCxvLVO86rplrd7SuHfwPZ74rL2pPeG181oe7XgsWH91uz63GPKHLv50JE2YMBWj6ep5/FTrGEdFY7GNomZFeROcVOsNfaJ36erHISY2vBpKoPsh/gJafwxqpwIAAA=="
            },
            "Metadata": {
                "aws:cdk:path": "Rfl-Prod/CDKMetadata/Default"
            }
        }
    },
    "Outputs": {
        "FaceLivenessGatewayFaceLivenessEndpoint4C3663E0": {
            "Value": {
                "Fn::Join": [
                    "",
                    [
                        "https://",
                        {
                            "Ref": "FaceLivenessGatewayFaceLivenessAA9467EC"
                        },
                        ".execute-api.us-east-1.",
                        {
                            "Ref": "AWS::URLSuffix"
                        },
                        "/",
                        {
                            "Ref": "FaceLivenessGatewayFaceLivenessDeploymentStageprod0F584C52"
                        },
                        "/"
                    ]
                ]
            }
        },
        "RflWebAPPStatusRFLWebAppURLA8926804": {
            "Value": {
                "Fn::Join": [
                    "",
                    [
                        "https://main.",
                        {
                            "Fn::GetAtt": [
                                "RflWebAPPRflWebAppA661FC9F",
                                "AppId"
                            ]
                        },
                        ".amplifyapp.com"
                    ]
                ]
            },
            "Export": {
                "Name": "RFL-Web-App-URL"
            }
        }
    }
}